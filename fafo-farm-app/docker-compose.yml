version: "3.7"

services:
  farm-app:                    # ← keep this name or match your internal service
    image: polehntim/farm-app:v1.0.0
    restart: on-failure
    stop_grace_period: 1m
    ports:
      - "3000:3000"            # Left = Umbrel external port (must match umbrel-app.yml), Right = port inside your container
    volumes:
      - ${APP_DATA_DIR}/data:/data   # optional — add if your app needs persistent storage
